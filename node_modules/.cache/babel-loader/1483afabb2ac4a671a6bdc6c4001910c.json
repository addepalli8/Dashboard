{"ast":null,"code":"var _jsxFileName = \"/Users/addepalli/Downloads/Dashboard/src/components/Exchange/index.js\";\nimport React, { Component } from \"react\"; // import all the config values\n\nimport { PROXY_URL, COINS_URL, RATE_URL, KEY, USER_IP } from '../../config.js'; // import all the necessary components from material ui\n\nimport TextField from '@material-ui/core/TextField';\nimport Switch from '@material-ui/core/Switch';\nimport { withStyles } from '@material-ui/core/styles'; // import all the necessary subcomponents\n\nimport Loader from '../Loader';\nimport InputBox from '../InputBox'; // importing the style from the external css file\n\nimport \"./exchange.css\"; // import all the necessary images\n\nimport IconSelected from '../../images/tick_selected.png';\nimport IconUnSelected from '../../images/tick.png'; // declaring the type of states and props used\n\n// customising the components from imported material-ui\nconst PurpleSwitch = withStyles({\n  switchBase: {\n    color: 'default',\n    '&$checked': {\n      color: '#736df8 !important'\n    },\n    '&$checked + $track': {\n      backgroundColor: '#736df8 !important'\n    }\n  },\n  checked: {},\n  track: {}\n})(Switch);\nconst CustomTextField = withStyles({\n  root: {\n    color: '#fff',\n    '& label.Mui-focused': {\n      color: '#fff'\n    },\n    '& label': {\n      color: '#fff'\n    },\n    '& .MuiInput-underline': {\n      borderBottomColor: '#fff !important'\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: '#fff'\n    },\n    '& .MuiInput-underline:before': {\n      borderBottomColor: '#fff'\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: '#fff'\n      },\n      '&:hover fieldset': {\n        borderColor: '#fff'\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: '#fff'\n      }\n    }\n  }\n})(TextField);\n\nclass Exchange extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cryptoCurrencyList: [],\n      dataInProgress: true,\n      exchangeInProgress: false,\n      showDepositCurrency: false,\n      showDestinationCurrency: false,\n      isPolicyChecked: true,\n      isChecked: false,\n      depositValue: 0,\n      destinationValue: 0,\n      rotateAngle: 0,\n      errorMessage: '',\n      exchangeData: {},\n      depositCoin: {},\n      destinationCoin: {}\n    }; //  binding all the necessary functions to perform state operations\n\n    this.onInputChange = this.onInputChange.bind(this);\n    this.depositValueChange = this.depositValueChange.bind(this);\n    this.handleCheck = this.handleCheck.bind(this);\n    this.togglePolicy = this.togglePolicy.bind(this);\n    this.selectCryptoCurrency = this.selectCryptoCurrency.bind(this);\n    this.onClickExchangeCoins = this.onClickExchangeCoins.bind(this);\n  }\n\n  componentDidMount() {\n    // create an API call to fetch all the crypto currency types of data and its information\n    // set in pprogress state to show a loader while fetching the data\n    // setting the starting values as deposit and destination values\n    fetch(PROXY_URL + COINS_URL, {\n      method: 'GET',\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json',\n        'x-api-key': KEY,\n        'x-user-ip': USER_IP\n      }\n    }).then(response => response.json()).then(data_list => this.setState(prevState => ({\n      cryptoCurrencyList: data_list.data.sort(currency => currency.isActive),\n      depositCoin: data_list.data.sort(currency => currency.isActive)[0],\n      destinationCoin: data_list.data.sort(currency => currency.isActive)[1],\n      dataInProgress: false\n    }))).catch(error => {\n      this.setState(prevState => ({\n        dataInProgress: false\n      }));\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // calculating the data for the destination value only on change of exchange type and exchange value\n    // setting the error message if it dosen't fit the criteria\n    if (this.state.exchangeData && ((this.state.exchangeData.limitMaxDepositCoin || 0) !== (prevState.exchangeData.limitMaxDepositCoin || 0) || (this.state.exchangeData.limitMaxDestinationCoin || 0) !== (prevState.exchangeData.limitMaxDestinationCoin || 0) || this.state.depositValue !== (prevState.depositValue || 0))) {\n      let tempDestinationValue = 1;\n      let tempDepositValue = this.state.depositValue || 0;\n      let tempRate = this.state.exchangeData.rate || 0;\n      let tempMinerFee = this.state.exchangeData.minerFee || 0;\n      tempDestinationValue = tempDepositValue * tempRate - tempMinerFee || 0;\n      tempDestinationValue = tempDestinationValue < 0 ? 0 : tempDestinationValue;\n      this.setState(prevState => ({\n        destinationValue: tempDestinationValue ? tempDestinationValue.toFixed(4) : tempDestinationValue\n      }));\n\n      if (this.state.exchangeData.limitMinDepositCoin > this.state.depositValue) {\n        this.setState(prevState => ({\n          errorMessage: `Minimum amount for conversion is ${this.state.exchangeData.limitMinDepositCoin} ${this.state.depositCoin.symbol}`\n        }));\n      }\n    } // stopping the loader once all the data has been assigned\n\n\n    if (this.state.destinationValue !== (prevState.destinationValue || 0)) {\n      this.setState(prevState => ({\n        exchangeInProgress: false\n      }));\n    } // calling the rates api once there is a chnage in deposit or destination value\n\n\n    if (this.state.depositCoin.symbol !== (prevState.depositCoin.symbol || '') || this.state.destinationCoin.symbol !== (prevState.destinationCoin.symbol || '')) {\n      this.depositValueChange();\n    }\n  } // calling therates api and setting the state for the exchange data\n  // setting the error message if it dosen't fit the convert\n\n\n  depositValueChange() {\n    this.setState(prevState => ({\n      exchangeInProgress: true\n    }));\n    let temp_data_list = {};\n    var data = JSON.stringify({\n      \"depositCoin\": this.state.depositCoin.symbol,\n      \"destinationCoin\": this.state.destinationCoin.symbol\n    });\n    fetch(PROXY_URL + RATE_URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': KEY,\n        'x-user-ip': USER_IP\n      },\n      body: data,\n      json: true\n    }).then(response => response.json()).then(response => {\n      if (response.success !== false) {\n        this.setState(prevState => ({\n          exchangeData: response.data,\n          errorMessage: ''\n        }));\n      } else {\n        this.setState(prevState => ({\n          exchangeInProgress: false,\n          errorMessage: `Cannot convert from ${this.state.depositCoin.name} to ${this.state.destinationCoin.name}`\n        }));\n      }\n    }).catch(error => {});\n  } // handling input change for deposit value and destination value\n\n\n  onInputChange(name, value) {\n    this.setState(prevState => ({\n      [name]: value\n    }));\n  } // handling switch change for market and fixed rate (dummy)\n\n\n  handleCheck() {\n    const isChecked = !this.state.isChecked;\n    this.setState(prevState => ({\n      isChecked\n    }));\n  } // handling toggle check for terms and policy (dummy)\n\n\n  togglePolicy() {\n    const isPolicyChecked = !this.state.isPolicyChecked;\n    this.setState(prevState => ({\n      isPolicyChecked\n    }));\n  } // handling on change for crypto currency type\n\n\n  selectCryptoCurrency(name, value) {\n    this.setState(prevState => ({\n      [name]: value\n    }));\n  } // handling on click for exchanging crypto currency types and animation to rotate icon\n\n\n  onClickExchangeCoins() {\n    const rotateAngle = this.state.rotateAngle + 180;\n    let tempDepositCoin = this.state.destinationCoin;\n    let tempDestinationCoin = this.state.depositCoin;\n    this.setState(prevState => ({\n      rotateAngle,\n      destinationCoin: tempDestinationCoin,\n      depositCoin: tempDepositCoin\n    }));\n  }\n\n  render() {\n    // showing progress bar when retriving data\n    if (this.state.dataInProgress) {\n      return React.createElement(\"div\", {\n        style: {\n          width: '100%',\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }));\n    } // showing data when retrived the necessary data\n\n\n    return React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        flexDirection: 'column',\n        overflowY: 'scroll'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"exchange-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"error-section\",\n      style: {\n        display: this.state.errorMessage && this.state.errorMessage.length ? 'flex' : 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, this.state.errorMessage), React.createElement(\"div\", {\n      className: \"banner-badge\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \"Buy Crypto\", React.createElement(\"span\", {\n      className: \"banner-badge-alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \"NEW\")), React.createElement(\"div\", {\n      className: \"toggle-rate-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \"Market Rate\", React.createElement(\"div\", {\n      className: \"discount-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        margin: '0px 5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(PurpleSwitch, {\n      checked: this.state.isChecked,\n      onChange: this.handleCheck,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"discount-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \"Fixed Rate\"), React.createElement(\"div\", {\n      className: \"discount-amount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons discount-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, \"flash_on\"), \"30% Faster\"))), React.createElement(\"div\", {\n      className: \"exchange-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-box-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"Send \", this.state.depositCoin.name), React.createElement(InputBox, {\n      name: \"depositValue\",\n      type: \"depositCoin\",\n      logo: this.state.depositCoin.logoUrl,\n      symbol: this.state.depositCoin.symbol,\n      value: this.state.depositValue,\n      cryptoCurrencyList: this.state.cryptoCurrencyList,\n      exchangeInProgress: false,\n      depositValueChange: this.depositValueChange,\n      onInputChange: this.onInputChange,\n      selectCryptoCurrency: this.selectCryptoCurrency,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons exchange-icon\",\n      onClick: this.onClickExchangeCoins,\n      style: {\n        transform: `rotate(-${this.state.rotateAngle}deg)`\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, \"sync\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-box-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"Get \", this.state.destinationCoin.name), React.createElement(InputBox, {\n      name: \"destinationValue\",\n      type: \"destinationCoin\",\n      logo: this.state.destinationCoin.logoUrl,\n      symbol: this.state.destinationCoin.symbol,\n      value: this.state.destinationValue,\n      disabled: true,\n      onInputChange: this.onInputChange,\n      cryptoCurrencyList: this.state.cryptoCurrencyList,\n      exchangeInProgress: this.state.exchangeInProgress,\n      selectCryptoCurrency: this.selectCryptoCurrency,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"currency-address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons scan-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, \"qr_code\"), React.createElement(CustomTextField, {\n      id: \"address\",\n      label: `Enter ${this.state.destinationCoin.name} Address`,\n      style: {\n        width: 335\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"data-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"exchange-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"data-deposit-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-box-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, \"You are Sending\"), React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        maxWidth: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"data-deposit-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, this.state.depositValue), React.createElement(\"div\", {\n      className: \"data-deposit-type\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, this.state.depositCoin.symbol))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons transfer-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, \"arrow_right_alt\")), React.createElement(\"div\", {\n      className: \"data-destination-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-box-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, \"You May Receive\"), React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        maxWidth: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"data-destination-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, this.state.exchangeInProgress ? '...' : this.state.destinationValue), React.createElement(\"div\", {\n      className: \"data-destination-type\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, this.state.destinationCoin.symbol)))), React.createElement(\"div\", {\n      className: \"powered-by\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }, \"Powered by \", React.createElement(\"span\", {\n      style: {\n        fontWeight: 'bolder',\n        color: '#fff'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, \"Changenow\"))), React.createElement(\"div\", {\n      className: \"submit-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"terms-policy\",\n      onClick: this.togglePolicy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"check\",\n      src: this.state.isPolicyChecked ? IconSelected : IconUnSelected,\n      className: \"terms-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, \"I agree to the \", React.createElement(\"span\", {\n      style: {\n        fontWeight: 'bolder',\n        color: '#fff'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, \"terms\"), \" & \", React.createElement(\"span\", {\n      style: {\n        fontWeight: 'bolder',\n        color: '#fff'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, \"privacy policy\"))), React.createElement(\"div\", {\n      className: \"submit-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, \"EXCHANGE\")));\n  }\n\n}\n\nexport default Exchange;","map":{"version":3,"sources":["/Users/addepalli/Downloads/Dashboard/src/components/Exchange/index.js"],"names":["React","Component","PROXY_URL","COINS_URL","RATE_URL","KEY","USER_IP","TextField","Switch","withStyles","Loader","InputBox","IconSelected","IconUnSelected","PurpleSwitch","switchBase","color","backgroundColor","checked","track","CustomTextField","root","borderBottomColor","borderColor","Exchange","constructor","props","state","cryptoCurrencyList","dataInProgress","exchangeInProgress","showDepositCurrency","showDestinationCurrency","isPolicyChecked","isChecked","depositValue","destinationValue","rotateAngle","errorMessage","exchangeData","depositCoin","destinationCoin","onInputChange","bind","depositValueChange","handleCheck","togglePolicy","selectCryptoCurrency","onClickExchangeCoins","componentDidMount","fetch","method","headers","then","response","json","data_list","setState","prevState","data","sort","currency","isActive","catch","error","componentDidUpdate","prevProps","limitMaxDepositCoin","limitMaxDestinationCoin","tempDestinationValue","tempDepositValue","tempRate","rate","tempMinerFee","minerFee","toFixed","limitMinDepositCoin","symbol","temp_data_list","JSON","stringify","body","success","name","value","tempDepositCoin","tempDestinationCoin","render","width","height","display","justifyContent","alignItems","flexDirection","overflowY","length","margin","logoUrl","transform","maxWidth","fontWeight"],"mappings":";AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CAEA;;AACA,SAASC,SAAT,EAAoBC,SAApB,EAA+BC,QAA/B,EAAyCC,GAAzC,EAA8CC,OAA9C,QAA6D,iBAA7D,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,UAAT,QAA2B,0BAA3B,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,QAAP,MAAqB,aAArB,C,CAEA;;AACA,OAAO,gBAAP,C,CAEA;;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,cAAP,MAA2B,uBAA3B,C,CAEA;;AAmBA;AACA,MAAMC,YAAY,GAAGL,UAAU,CAAC;AAC9BM,EAAAA,UAAU,EAAE;AACVC,IAAAA,KAAK,EAAE,SADG;AAEV,iBAAa;AACXA,MAAAA,KAAK,EAAE;AADI,KAFH;AAKV,0BAAsB;AACpBC,MAAAA,eAAe,EAAE;AADG;AALZ,GADkB;AAU9BC,EAAAA,OAAO,EAAE,EAVqB;AAW9BC,EAAAA,KAAK,EAAE;AAXuB,CAAD,CAAV,CAYlBX,MAZkB,CAArB;AAaA,MAAMY,eAAe,GAAGX,UAAU,CAAC;AACjCY,EAAAA,IAAI,EAAE;AACJL,IAAAA,KAAK,EAAE,MADH;AAEJ,2BAAuB;AACrBA,MAAAA,KAAK,EAAE;AADc,KAFnB;AAKJ,eAAW;AACTA,MAAAA,KAAK,EAAE;AADE,KALP;AAQJ,6BAAyB;AACvBM,MAAAA,iBAAiB,EAAE;AADI,KARrB;AAWJ,mCAA+B;AAC7BA,MAAAA,iBAAiB,EAAE;AADU,KAX3B;AAcJ,oCAAgC;AAC9BA,MAAAA,iBAAiB,EAAE;AADW,KAd5B;AAiBJ,gCAA4B;AAC1B,oBAAc;AACZC,QAAAA,WAAW,EAAE;AADD,OADY;AAI1B,0BAAoB;AAClBA,QAAAA,WAAW,EAAE;AADK,OAJM;AAO1B,gCAA0B;AACxBA,QAAAA,WAAW,EAAE;AADW;AAPA;AAjBxB;AAD2B,CAAD,CAAV,CA8BrBhB,SA9BqB,CAAxB;;AAgCA,MAAMiB,QAAN,SAAuBvB,SAAvB,CAA+C;AAC7CwB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,kBAAkB,EAAE,EADT;AAEXC,MAAAA,cAAc,EAAE,IAFL;AAGXC,MAAAA,kBAAkB,EAAE,KAHT;AAIXC,MAAAA,mBAAmB,EAAE,KAJV;AAKXC,MAAAA,uBAAuB,EAAE,KALd;AAMXC,MAAAA,eAAe,EAAE,IANN;AAOXC,MAAAA,SAAS,EAAE,KAPA;AAQXC,MAAAA,YAAY,EAAE,CARH;AASXC,MAAAA,gBAAgB,EAAE,CATP;AAUXC,MAAAA,WAAW,EAAE,CAVF;AAWXC,MAAAA,YAAY,EAAE,EAXH;AAYXC,MAAAA,YAAY,EAAE,EAZH;AAaXC,MAAAA,WAAW,EAAE,EAbF;AAcXC,MAAAA,eAAe,EAAE;AAdN,KAAb,CAFiB,CAmBjB;;AACC,QAAD,CAAYC,aAAZ,GAA4B,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAA5B;AACC,QAAD,CAAYC,kBAAZ,GAAiC,KAAKA,kBAAL,CAAwBD,IAAxB,CAA6B,IAA7B,CAAjC;AACC,QAAD,CAAYE,WAAZ,GAA0B,KAAKA,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAA1B;AACC,QAAD,CAAYG,YAAZ,GAA2B,KAAKA,YAAL,CAAkBH,IAAlB,CAAuB,IAAvB,CAA3B;AACC,QAAD,CAAYI,oBAAZ,GAAmC,KAAKA,oBAAL,CAA0BJ,IAA1B,CAA+B,IAA/B,CAAnC;AACC,QAAD,CAAYK,oBAAZ,GAAmC,KAAKA,oBAAL,CAA0BL,IAA1B,CAA+B,IAA/B,CAAnC;AACD;;AAEDM,EAAAA,iBAAiB,GAAG;AAClB;AACA;AACA;AACAC,IAAAA,KAAK,CAAChD,SAAS,GAAGC,SAAb,EAAwB;AAC3BgD,MAAAA,MAAM,EAAE,KADmB;AAE3BC,MAAAA,OAAO,EAAE;AACP,uCAA+B,GADxB;AAEP,wBAAgB,kBAFT;AAGP,qBAAa/C,GAHN;AAIP,qBAAaC;AAJN;AAFkB,KAAxB,CAAL,CASG+C,IATH,CASQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EATpB,EAUGF,IAVH,CAUQG,SAAS,IAAI,KAAKC,QAAL,CAAcC,SAAS,KAAG;AAC3C9B,MAAAA,kBAAkB,EAAE4B,SAAS,CAACG,IAAV,CAAeC,IAAf,CAAoBC,QAAQ,IAAGA,QAAQ,CAACC,QAAxC,CADuB;AAE3CtB,MAAAA,WAAW,EAAEgB,SAAS,CAACG,IAAV,CAAeC,IAAf,CAAoBC,QAAQ,IAAGA,QAAQ,CAACC,QAAxC,EAAkD,CAAlD,CAF8B;AAG3CrB,MAAAA,eAAe,EAAEe,SAAS,CAACG,IAAV,CAAeC,IAAf,CAAoBC,QAAQ,IAAGA,QAAQ,CAACC,QAAxC,EAAkD,CAAlD,CAH0B;AAI3CjC,MAAAA,cAAc,EAAE;AAJ2B,KAAH,CAAvB,CAVrB,EAgBIkC,KAhBJ,CAgBWC,KAAD,IAAW;AACjB,WAAKP,QAAL,CAAcC,SAAS,KAAG;AACxB7B,QAAAA,cAAc,EAAE;AADQ,OAAH,CAAvB;AAGD,KApBH;AAqBD;;AAEDoC,EAAAA,kBAAkB,CAACC,SAAD,EAAYR,SAAZ,EAAuB;AACvC;AACA;AACA,QAAG,KAAK/B,KAAL,CAAWY,YAAX,KACC,CAAC,KAAKZ,KAAL,CAAWY,YAAX,CAAwB4B,mBAAxB,IAA+C,CAAhD,OAAwDT,SAAS,CAACnB,YAAV,CAAuB4B,mBAAvB,IAA8C,CAAtG,CAAD,IACA,CAAC,KAAKxC,KAAL,CAAWY,YAAX,CAAwB6B,uBAAxB,IAAmD,CAApD,OAA4DV,SAAS,CAACnB,YAAV,CAAuB6B,uBAAvB,IAAkD,CAA9G,CADA,IAEA,KAAKzC,KAAL,CAAWQ,YAAX,MAA6BuB,SAAS,CAACvB,YAAV,IAAyB,CAAtD,CAHA,CAAH,EAG+D;AACzD,UAAIkC,oBAAoB,GAAG,CAA3B;AACA,UAAIC,gBAAgB,GAAG,KAAK3C,KAAL,CAAWQ,YAAX,IAA2B,CAAlD;AACA,UAAIoC,QAAQ,GAAG,KAAK5C,KAAL,CAAWY,YAAX,CAAwBiC,IAAxB,IAAgC,CAA/C;AACA,UAAIC,YAAY,GAAG,KAAK9C,KAAL,CAAWY,YAAX,CAAwBmC,QAAxB,IAAoC,CAAvD;AACAL,MAAAA,oBAAoB,GAAKC,gBAAgB,GAAGC,QAApB,GAAgCE,YAAjC,IAAkD,CAAzE;AACAJ,MAAAA,oBAAoB,GAAGA,oBAAoB,GAAG,CAAvB,GAA2B,CAA3B,GAA+BA,oBAAtD;AACA,WAAKZ,QAAL,CAAcC,SAAS,KAAG;AACxBtB,QAAAA,gBAAgB,EAAEiC,oBAAoB,GAAGA,oBAAoB,CAACM,OAArB,CAA6B,CAA7B,CAAH,GAAqCN;AADnD,OAAH,CAAvB;;AAGA,UAAG,KAAK1C,KAAL,CAAWY,YAAX,CAAwBqC,mBAAxB,GAA8C,KAAKjD,KAAL,CAAWQ,YAA5D,EAA0E;AACxE,aAAKsB,QAAL,CAAcC,SAAS,KAAG;AACxBpB,UAAAA,YAAY,EAAG,oCAAmC,KAAKX,KAAL,CAAWY,YAAX,CAAwBqC,mBAAoB,IAAG,KAAKjD,KAAL,CAAWa,WAAX,CAAuBqC,MAAO;AADvG,SAAH,CAAvB;AAGD;AACJ,KArBoC,CAsBrC;;;AACA,QAAG,KAAKlD,KAAL,CAAWS,gBAAX,MAAiCsB,SAAS,CAACtB,gBAAV,IAA8B,CAA/D,CAAH,EAAsE;AACpE,WAAKqB,QAAL,CAAcC,SAAS,KAAG;AACxB5B,QAAAA,kBAAkB,EAAE;AADI,OAAH,CAAvB;AAGD,KA3BoC,CA4BrC;;;AACA,QAAG,KAAKH,KAAL,CAAWa,WAAX,CAAuBqC,MAAvB,MAAmCnB,SAAS,CAAClB,WAAV,CAAsBqC,MAAtB,IAAgC,EAAnE,KAA0E,KAAKlD,KAAL,CAAWc,eAAX,CAA2BoC,MAA3B,MAAuCnB,SAAS,CAACjB,eAAV,CAA0BoC,MAA1B,IAAoC,EAA3E,CAA7E,EAA6J;AAC3J,WAAKjC,kBAAL;AACD;AACJ,GAxF4C,CA0F7C;AACA;;;AACAA,EAAAA,kBAAkB,GAAG;AACnB,SAAKa,QAAL,CAAcC,SAAS,KAAG;AACxB5B,MAAAA,kBAAkB,EAAE;AADI,KAAH,CAAvB;AAGA,QAAIgD,cAAc,GAAG,EAArB;AACA,QAAInB,IAAI,GAAGoB,IAAI,CAACC,SAAL,CAAe;AACxB,qBAAe,KAAKrD,KAAL,CAAWa,WAAX,CAAuBqC,MADd;AAExB,yBAAmB,KAAKlD,KAAL,CAAWc,eAAX,CAA2BoC;AAFtB,KAAf,CAAX;AAIA3B,IAAAA,KAAK,CAAChD,SAAS,GAAGE,QAAb,EAAuB;AAC1B+C,MAAAA,MAAM,EAAE,MADkB;AAE1BC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,qBAAa/C,GAFN;AAGP,qBAAaC;AAHN,OAFiB;AAO1B2E,MAAAA,IAAI,EAAEtB,IAPoB;AAQ1BJ,MAAAA,IAAI,EAAE;AARoB,KAAvB,CAAL,CAUCF,IAVD,CAUMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAVlB,EAWCF,IAXD,CAWMC,QAAQ,IAAI;AAChB,UAAGA,QAAQ,CAAC4B,OAAT,KAAqB,KAAxB,EAA+B;AAC7B,aAAKzB,QAAL,CAAcC,SAAS,KAAG;AACxBnB,UAAAA,YAAY,EAAEe,QAAQ,CAACK,IADC;AAExBrB,UAAAA,YAAY,EAAE;AAFU,SAAH,CAAvB;AAID,OALD,MAKO;AACL,aAAKmB,QAAL,CAAcC,SAAS,KAAG;AACxB5B,UAAAA,kBAAkB,EAAE,KADI;AAExBQ,UAAAA,YAAY,EAAG,uBAAsB,KAAKX,KAAL,CAAWa,WAAX,CAAuB2C,IAAK,OAAM,KAAKxD,KAAL,CAAWc,eAAX,CAA2B0C,IAAK;AAF/E,SAAH,CAAvB;AAID;AACA,KAvBH,EAuBKpB,KAvBL,CAuBYC,KAAD,IAAW,CACnB,CAxBH;AAyBD,GA9H4C,CAgI7C;;;AACAtB,EAAAA,aAAa,CAACyC,IAAD,EAAOC,KAAP,EAAc;AACzB,SAAK3B,QAAL,CAAcC,SAAS,KAAG;AACxB,OAACyB,IAAD,GAAQC;AADgB,KAAH,CAAvB;AAGD,GArI4C,CAuI7C;;;AACAvC,EAAAA,WAAW,GAAG;AACZ,UAAMX,SAAS,GAAG,CAAC,KAAKP,KAAL,CAAWO,SAA9B;AACA,SAAKuB,QAAL,CAAcC,SAAS,KAAG;AACxBxB,MAAAA;AADwB,KAAH,CAAvB;AAGD,GA7I4C,CA+I7C;;;AACAY,EAAAA,YAAY,GAAG;AACb,UAAMb,eAAe,GAAG,CAAC,KAAKN,KAAL,CAAWM,eAApC;AACA,SAAKwB,QAAL,CAAcC,SAAS,KAAG;AACxBzB,MAAAA;AADwB,KAAH,CAAvB;AAGD,GArJ4C,CAuJ7C;;;AACAc,EAAAA,oBAAoB,CAACoC,IAAD,EAAOC,KAAP,EAAc;AAChC,SAAK3B,QAAL,CAAcC,SAAS,KAAG;AACxB,OAACyB,IAAD,GAAQC;AADgB,KAAH,CAAvB;AAGD,GA5J4C,CA8J7C;;;AACApC,EAAAA,oBAAoB,GAAG;AACrB,UAAMX,WAAW,GAAG,KAAKV,KAAL,CAAWU,WAAX,GAAyB,GAA7C;AACA,QAAIgD,eAAe,GAAG,KAAK1D,KAAL,CAAWc,eAAjC;AACA,QAAI6C,mBAAmB,GAAG,KAAK3D,KAAL,CAAWa,WAArC;AACA,SAAKiB,QAAL,CAAcC,SAAS,KAAI;AACzBrB,MAAAA,WADyB;AAEzBI,MAAAA,eAAe,EAAE6C,mBAFQ;AAGzB9C,MAAAA,WAAW,EAAE6C;AAHY,KAAJ,CAAvB;AAKD;;AAEDE,EAAAA,MAAM,GAAG;AACP;AACA,QAAI,KAAK5D,KAAL,CAAWE,cAAf,EAA+B;AAC7B,aACE;AAAK,QAAA,KAAK,EAAE;AAAC2D,UAAAA,KAAK,EAAE,MAAR;AAAgBC,UAAAA,MAAM,EAAE;AAAxB,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAKD,KARM,CASP;;;AACA,WACE;AAAK,MAAA,KAAK,EAAE;AAACD,QAAAA,KAAK,EAAE,MAAR;AAAgBC,QAAAA,MAAM,EAAE,MAAxB;AAAgCC,QAAAA,OAAO,EAAE,MAAzC;AAAiDC,QAAAA,cAAc,EAAE,YAAjE;AAA+EC,QAAAA,UAAU,EAAE,QAA3F;AAAqGC,QAAAA,aAAa,EAAE,QAApH;AAA8HC,QAAAA,SAAS,EAAE;AAAzI,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAA+B,MAAA,KAAK,EAAE;AAACJ,QAAAA,OAAO,EAAE,KAAK/D,KAAL,CAAWW,YAAX,IAA2B,KAAKX,KAAL,CAAWW,YAAX,CAAwByD,MAAnD,GAA4D,MAA5D,GAAqE;AAA/E,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKpE,KAAL,CAAWW,YADZ,CADJ,EAIE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEE;AAAM,MAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,CAJF,EAQE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAKE;AAAK,MAAA,KAAK,EAAE;AAAC0D,QAAAA,MAAM,EAAE;AAAT,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAE,KAAKrE,KAAL,CAAWO,SAAlC;AAA6C,MAAA,QAAQ,EAAE,KAAKW,WAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CALF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,8BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAFF,CATF,CARF,EAyBE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAuC,KAAKlB,KAAL,CAAWa,WAAX,CAAuB2C,IAA9D,CADF,EAEE,oBAAC,QAAD;AACE,MAAA,IAAI,EAAC,cADP;AAEE,MAAA,IAAI,EAAC,aAFP;AAGE,MAAA,IAAI,EAAE,KAAKxD,KAAL,CAAWa,WAAX,CAAuByD,OAH/B;AAIE,MAAA,MAAM,EAAE,KAAKtE,KAAL,CAAWa,WAAX,CAAuBqC,MAJjC;AAKE,MAAA,KAAK,EAAE,KAAKlD,KAAL,CAAWQ,YALpB;AAME,MAAA,kBAAkB,EAAE,KAAKR,KAAL,CAAWC,kBANjC;AAOE,MAAA,kBAAkB,EAAE,KAPtB;AAQE,MAAA,kBAAkB,EAAE,KAAKgB,kBAR3B;AASE,MAAA,aAAa,EAAE,KAAKF,aATtB;AAUE,MAAA,oBAAoB,EAAE,KAAKK,oBAV7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,8BAAb;AAA4C,MAAA,OAAO,EAAE,KAAKC,oBAA1D;AAAgF,MAAA,KAAK,EAAE;AAACkD,QAAAA,SAAS,EAAE,WAAU,KAAKvE,KAAL,CAAWU,WAAY;AAA7C,OAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAhBF,EAmBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAsC,KAAKV,KAAL,CAAWc,eAAX,CAA2B0C,IAAjE,CADF,EAEE,oBAAC,QAAD;AACE,MAAA,IAAI,EAAC,kBADP;AAEE,MAAA,IAAI,EAAC,iBAFP;AAGE,MAAA,IAAI,EAAE,KAAKxD,KAAL,CAAWc,eAAX,CAA2BwD,OAHnC;AAIE,MAAA,MAAM,EAAE,KAAKtE,KAAL,CAAWc,eAAX,CAA2BoC,MAJrC;AAKE,MAAA,KAAK,EAAE,KAAKlD,KAAL,CAAWS,gBALpB;AAME,MAAA,QAAQ,EAAE,IANZ;AAOE,MAAA,aAAa,EAAE,KAAKM,aAPtB;AAQE,MAAA,kBAAkB,EAAE,KAAKf,KAAL,CAAWC,kBARjC;AASE,MAAA,kBAAkB,EAAE,KAAKD,KAAL,CAAWG,kBATjC;AAUE,MAAA,oBAAoB,EAAE,KAAKiB,oBAV7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAnBF,CAzBF,EA4DE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,0BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE,oBAAC,eAAD;AAAiB,MAAA,EAAE,EAAC,SAApB;AAA8B,MAAA,KAAK,EAAG,SAAQ,KAAKpB,KAAL,CAAWc,eAAX,CAA2B0C,IAAK,UAA9E;AAAyF,MAAA,KAAK,EAAE;AAACK,QAAAA,KAAK,EAAE;AAAR,OAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CA5DF,CADF,EAkEE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEE;AAAK,MAAA,KAAK,EAAE;AAACE,QAAAA,OAAO,EAAE,MAAV;AAAkBS,QAAAA,QAAQ,EAAE;AAA5B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKxE,KAAL,CAAWQ,YADd,CADF,EAIE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKR,KAAL,CAAWa,WAAX,CAAuBqC,MAD1B,CAJF,CAFF,CADF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,8BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CAZF,EAeE;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEE;AAAK,MAAA,KAAK,EAAE;AAACa,QAAAA,OAAO,EAAE,MAAV;AAAkBS,QAAAA,QAAQ,EAAE;AAA5B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKxE,KAAL,CAAWG,kBAAX,GACC,KADD,GAEC,KAAKH,KAAL,CAAWS,gBAHf,CADF,EAME;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKT,KAAL,CAAWc,eAAX,CAA2BoC,MAD9B,CANF,CAFF,CAfF,CADF,EA8BE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACa;AAAM,MAAA,KAAK,EAAE;AAACuB,QAAAA,UAAU,EAAE,QAAb;AAAuBpF,QAAAA,KAAK,EAAE;AAA9B,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADb,CA9BF,CAlEF,EAoGE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAA8B,MAAA,OAAO,EAAE,KAAK8B,YAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,GAAG,EAAC,OAAT;AAAiB,MAAA,GAAG,EAAE,KAAKnB,KAAL,CAAWM,eAAX,GAA6BrB,YAA7B,GAA4CC,cAAlE;AAAkF,MAAA,SAAS,EAAC,YAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACiB;AAAM,MAAA,KAAK,EAAE;AAACuF,QAAAA,UAAU,EAAE,QAAb;AAAuBpF,QAAAA,KAAK,EAAE;AAA9B,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADjB,SACoF;AAAM,MAAA,KAAK,EAAE;AAACoF,QAAAA,UAAU,EAAE,QAAb;AAAuBpF,QAAAA,KAAK,EAAE;AAA9B,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADpF,CAFF,CADF,EAOE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,CApGF,CADF;AAkHD;;AAtS4C;;AAyS/C,eAAeQ,QAAf","sourcesContent":["// @flow\n\nimport React, { Component } from \"react\";\n\n// import all the config values\nimport { PROXY_URL, COINS_URL, RATE_URL, KEY, USER_IP } from '../../config.js';\n\n// import all the necessary components from material ui\nimport TextField from '@material-ui/core/TextField';\nimport Switch from '@material-ui/core/Switch';\nimport { withStyles } from '@material-ui/core/styles';\n\n// import all the necessary subcomponents\nimport Loader from '../Loader';\nimport InputBox from '../InputBox';\n\n// importing the style from the external css file\nimport \"./exchange.css\";\n\n// import all the necessary images\nimport IconSelected from '../../images/tick_selected.png';\nimport IconUnSelected from '../../images/tick.png';\n\n// declaring the type of states and props used\ntype Props = {};\ntype State = {\n  cryptoCurrencyList: Array<Object>,\n  dataInProgress: boolean,\n  exchangeInProgress: boolean,\n  showDepositCurrency: boolean,\n  showDestinationCurrency: boolean,\n  isPolicyChecked: boolean,\n  isChecked: boolean,\n  depositValue: number,\n  destinationValue: number,\n  rotateAngle: number,\n  errorMessage: string,\n  exchangeData: Object,\n  depositCoin: Object,\n  destinationCoin: Object,\n};\n\n// customising the components from imported material-ui\nconst PurpleSwitch = withStyles({\n  switchBase: {\n    color: 'default',\n    '&$checked': {\n      color: '#736df8 !important',\n    },\n    '&$checked + $track': {\n      backgroundColor: '#736df8 !important',\n    },\n  },\n  checked: {},\n  track: {},\n})(Switch);\nconst CustomTextField = withStyles({\n  root: {\n    color: '#fff',\n    '& label.Mui-focused': {\n      color: '#fff',\n    },\n    '& label': {\n      color: '#fff',\n    },\n    '& .MuiInput-underline': {\n      borderBottomColor: '#fff !important',\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: '#fff',\n    },\n    '& .MuiInput-underline:before': {\n      borderBottomColor: '#fff',\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: '#fff',\n      },\n      '&:hover fieldset': {\n        borderColor: '#fff',\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: '#fff',\n      },\n    },\n  },\n})(TextField);\n\nclass Exchange extends Component<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cryptoCurrencyList: [],\n      dataInProgress: true,\n      exchangeInProgress: false,\n      showDepositCurrency: false,\n      showDestinationCurrency: false,\n      isPolicyChecked: true,\n      isChecked: false,\n      depositValue: 0,\n      destinationValue: 0,\n      rotateAngle: 0,\n      errorMessage: '',\n      exchangeData: {},\n      depositCoin: {},\n      destinationCoin: {},\n    };\n\n    //  binding all the necessary functions to perform state operations\n    (this: any).onInputChange = this.onInputChange.bind(this);\n    (this: any).depositValueChange = this.depositValueChange.bind(this);\n    (this: any).handleCheck = this.handleCheck.bind(this);\n    (this: any).togglePolicy = this.togglePolicy.bind(this);\n    (this: any).selectCryptoCurrency = this.selectCryptoCurrency.bind(this);\n    (this: any).onClickExchangeCoins = this.onClickExchangeCoins.bind(this);\n  }\n\n  componentDidMount() {\n    // create an API call to fetch all the crypto currency types of data and its information\n    // set in pprogress state to show a loader while fetching the data\n    // setting the starting values as deposit and destination values\n    fetch(PROXY_URL + COINS_URL, {\n      method: 'GET',\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json',\n        'x-api-key': KEY,\n        'x-user-ip': USER_IP,\n      },\n      })\n      .then(response => response.json())\n      .then(data_list => this.setState(prevState=>({\n        cryptoCurrencyList: data_list.data.sort(currency=> currency.isActive),\n        depositCoin: data_list.data.sort(currency=> currency.isActive)[0],\n        destinationCoin: data_list.data.sort(currency=> currency.isActive)[1],\n        dataInProgress: false,\n        }))\n      ).catch((error) => {\n        this.setState(prevState=>({\n          dataInProgress: false,\n          }))\n      });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // calculating the data for the destination value only on change of exchange type and exchange value\n    // setting the error message if it dosen't fit the criteria\n    if(this.state.exchangeData &&\n      (((this.state.exchangeData.limitMaxDepositCoin || 0) !== (prevState.exchangeData.limitMaxDepositCoin || 0)) ||\n      ((this.state.exchangeData.limitMaxDestinationCoin || 0) !== (prevState.exchangeData.limitMaxDestinationCoin || 0)) ||\n      (this.state.depositValue !== (prevState.depositValue|| 0)))) {\n          let tempDestinationValue = 1;\n          let tempDepositValue = this.state.depositValue || 0;\n          let tempRate = this.state.exchangeData.rate || 0;\n          let tempMinerFee = this.state.exchangeData.minerFee || 0;\n          tempDestinationValue = ((tempDepositValue * tempRate) - tempMinerFee) || 0;\n          tempDestinationValue = tempDestinationValue < 0 ? 0 : tempDestinationValue;\n          this.setState(prevState=>({\n            destinationValue: tempDestinationValue ? tempDestinationValue.toFixed(4) : tempDestinationValue,\n          }));\n          if(this.state.exchangeData.limitMinDepositCoin > this.state.depositValue) {\n            this.setState(prevState=>({\n              errorMessage: `Minimum amount for conversion is ${this.state.exchangeData.limitMinDepositCoin} ${this.state.depositCoin.symbol}`\n            }));\n          }\n      }\n      // stopping the loader once all the data has been assigned\n      if(this.state.destinationValue !== (prevState.destinationValue || 0)) {\n        this.setState(prevState=>({\n          exchangeInProgress: false,\n        }));\n      }\n      // calling the rates api once there is a chnage in deposit or destination value\n      if(this.state.depositCoin.symbol !== (prevState.depositCoin.symbol || '') || this.state.destinationCoin.symbol !== (prevState.destinationCoin.symbol || '')) {\n        this.depositValueChange()\n      }\n  }\n\n  // calling therates api and setting the state for the exchange data\n  // setting the error message if it dosen't fit the convert\n  depositValueChange() {\n    this.setState(prevState=>({\n      exchangeInProgress: true,\n    }));\n    let temp_data_list = {};\n    var data = JSON.stringify({\n      \"depositCoin\": this.state.depositCoin.symbol,\n      \"destinationCoin\": this.state.destinationCoin.symbol,\n    });\n    fetch(PROXY_URL + RATE_URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': KEY,\n        'x-user-ip': USER_IP,\n      },\n      body: data,\n      json: true,\n    })\n    .then(response => response.json())\n    .then(response => {\n      if(response.success !== false) {\n        this.setState(prevState=>({\n          exchangeData: response.data,\n          errorMessage: '',\n        }))\n      } else {\n        this.setState(prevState=>({\n          exchangeInProgress: false,\n          errorMessage: `Cannot convert from ${this.state.depositCoin.name} to ${this.state.destinationCoin.name}`\n        }))\n      }\n      }).catch((error) => {\n      });\n  }\n\n  // handling input change for deposit value and destination value\n  onInputChange(name, value) {\n    this.setState(prevState=>({\n      [name]: value,\n      }));\n  }\n\n  // handling switch change for market and fixed rate (dummy)\n  handleCheck() {\n    const isChecked = !this.state.isChecked;\n    this.setState(prevState=>({\n      isChecked,\n    }));\n  }\n\n  // handling toggle check for terms and policy (dummy)\n  togglePolicy() {\n    const isPolicyChecked = !this.state.isPolicyChecked;\n    this.setState(prevState=>({\n      isPolicyChecked,\n    }));\n  }\n\n  // handling on change for crypto currency type\n  selectCryptoCurrency(name, value) {\n    this.setState(prevState=>({\n      [name]: value,\n    }));\n  }\n\n  // handling on click for exchanging crypto currency types and animation to rotate icon\n  onClickExchangeCoins() {\n    const rotateAngle = this.state.rotateAngle + 180;\n    let tempDepositCoin = this.state.destinationCoin;\n    let tempDestinationCoin = this.state.depositCoin;\n    this.setState(prevState =>({\n      rotateAngle,\n      destinationCoin: tempDestinationCoin,\n      depositCoin: tempDepositCoin,\n    }))\n  }\n\n  render() {\n    // showing progress bar when retriving data\n    if (this.state.dataInProgress) {\n      return(\n        <div style={{width: '100%', height: '100%'}}>\n          <Loader />\n        </div>\n      );\n    }\n    // showing data when retrived the necessary data\n    return (\n      <div style={{width: '100%', height: '100%', display: 'flex', justifyContent: 'flex-start', alignItems: 'center', flexDirection: 'column', overflowY: 'scroll'}}>\n        <div className=\"exchange-container\">\n            <div className=\"error-section\" style={{display: this.state.errorMessage && this.state.errorMessage.length ? 'flex' : 'none'}}>\n            {this.state.errorMessage}\n            </div>\n          <div className=\"banner-badge\">\n            Buy Crypto\n            <span className=\"banner-badge-alert\">NEW</span>\n          </div>\n          <div className=\"toggle-rate-section\">\n            <div>\n              Market Rate\n              <div className=\"discount-icon\" />\n            </div>\n            <div style={{margin: '0px 5px'}}>\n              <PurpleSwitch checked={this.state.isChecked} onChange={this.handleCheck} />\n              <div className=\"discount-icon\" />\n            </div>\n            <div>\n              <div>Fixed Rate</div>\n              <div className=\"discount-amount\">\n                <i className=\"material-icons discount-icon\">flash_on</i>\n                30% Faster\n              </div>\n            </div>\n          </div>\n          <div className=\"exchange-section\">\n            <div>\n              <div className=\"input-box-label\">Send {this.state.depositCoin.name}</div>\n              <InputBox\n                name=\"depositValue\"\n                type=\"depositCoin\"\n                logo={this.state.depositCoin.logoUrl}\n                symbol={this.state.depositCoin.symbol}\n                value={this.state.depositValue}\n                cryptoCurrencyList={this.state.cryptoCurrencyList}\n                exchangeInProgress={false}\n                depositValueChange={this.depositValueChange}\n                onInputChange={this.onInputChange}\n                selectCryptoCurrency={this.selectCryptoCurrency}\n              />\n            </div>\n            <div>\n              <i className=\"material-icons exchange-icon\" onClick={this.onClickExchangeCoins} style={{transform:`rotate(-${this.state.rotateAngle}deg)`}}>sync</i>\n            </div>\n            <div>\n              <div className=\"input-box-label\">Get {this.state.destinationCoin.name}</div>\n              <InputBox\n                name=\"destinationValue\"\n                type=\"destinationCoin\"\n                logo={this.state.destinationCoin.logoUrl}\n                symbol={this.state.destinationCoin.symbol}\n                value={this.state.destinationValue}\n                disabled={true}\n                onInputChange={this.onInputChange}\n                cryptoCurrencyList={this.state.cryptoCurrencyList}\n                exchangeInProgress={this.state.exchangeInProgress}\n                selectCryptoCurrency={this.selectCryptoCurrency}\n              />\n            </div>\n          </div>\n          <div className=\"currency-address\">\n            <i className=\"material-icons scan-icon\">qr_code</i>\n            <CustomTextField id=\"address\" label={`Enter ${this.state.destinationCoin.name} Address`} style={{width: 335}} />\n          </div>\n        </div>\n        <div className=\"data-container\">\n          <div className=\"exchange-section\">\n            <div className=\"data-deposit-section\">\n              <div className=\"input-box-label\">You are Sending</div>\n              <div style={{display: 'flex', maxWidth: '100%'}}>\n                <div className=\"data-deposit-value\">\n                  {this.state.depositValue}\n                </div>\n                <div className=\"data-deposit-type\">\n                  {this.state.depositCoin.symbol}\n                </div>\n              </div>\n            </div>\n            <div>\n              <i className=\"material-icons transfer-icon\">arrow_right_alt</i>\n            </div>\n            <div className=\"data-destination-section\">\n              <div className=\"input-box-label\">You May Receive</div>\n              <div style={{display: 'flex', maxWidth: '100%'}}>\n                <div className=\"data-destination-value\">\n                  {this.state.exchangeInProgress ?\n                    '...' :\n                    this.state.destinationValue}\n                </div>\n                <div className=\"data-destination-type\">\n                  {this.state.destinationCoin.symbol}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"powered-by\">\n            Powered by <span style={{fontWeight: 'bolder', color: '#fff'}}>Changenow</span>\n          </div>\n        </div>\n        <div className=\"submit-section\">\n          <div className=\"terms-policy\" onClick={this.togglePolicy}>\n            <img alt=\"check\" src={this.state.isPolicyChecked ? IconSelected : IconUnSelected} className=\"terms-icon\" />\n            <div>\n              I agree to the <span style={{fontWeight: 'bolder', color: '#fff'}}>terms</span> & <span style={{fontWeight: 'bolder', color: '#fff'}}>privacy policy</span>\n            </div>\n          </div>\n          <div className=\"submit-button\">\n            EXCHANGE\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Exchange;\n"]},"metadata":{},"sourceType":"module"}