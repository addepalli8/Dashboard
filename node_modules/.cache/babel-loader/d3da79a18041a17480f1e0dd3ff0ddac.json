{"ast":null,"code":"var _jsxFileName = \"/Users/addepalli/Downloads/Exchange/src/components/Exchange/index.js\";\nimport React, { Component } from \"react\"; // import all the necessary components from material ui\n\nimport TextField from '@material-ui/core/TextField';\nimport Switch from '@material-ui/core/Switch';\nimport { withStyles } from '@material-ui/core/styles'; // import all the necessary subcomponents\n\nimport Loader from '../Loader';\nimport InputBox from '../InputBox'; // importing the style from the external css file\n\nimport \"./exchange.css\"; // import all the necessary images\n\nimport IconSelected from '../../images/tick_selected.png';\nimport IconUnSelected from '../../images/tick.png'; // declaring the type of states and props used\n\nconst PurpleSwitch = withStyles({\n  switchBase: {\n    color: 'default',\n    '&$checked': {\n      color: '#736df8 !important'\n    },\n    '&$checked + $track': {\n      backgroundColor: '#736df8 !important'\n    }\n  },\n  checked: {},\n  track: {}\n})(Switch);\nconst CustomTextField = withStyles({\n  root: {\n    color: '#fff',\n    '& label.Mui-focused': {\n      color: '#fff'\n    },\n    '& label': {\n      color: '#fff'\n    },\n    '& .MuiInput-underline': {\n      borderBottomColor: '#fff !important'\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: '#fff'\n    },\n    '& .MuiInput-underline:before': {\n      borderBottomColor: '#fff'\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: '#fff'\n      },\n      '&:hover fieldset': {\n        borderColor: '#fff'\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: '#fff'\n      }\n    }\n  }\n})(TextField);\n\nclass Exchange extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cryptoCurrencyList: [],\n      dataInProgress: true,\n      exchangeInProgress: false,\n      showDepositCurrency: false,\n      showDestinationCurrency: false,\n      isPolicyChecked: true,\n      isChecked: false,\n      depositValue: 0,\n      destinationValue: 0,\n      rotateAngle: 0,\n      depositSearch: '',\n      destinationSearch: '',\n      errorMessage: '',\n      exchangeData: {},\n      depositCoin: {},\n      destinationCoin: {}\n    }; //  binding all the necessary functions to perform state operations\n\n    this.onInputChange = this.onInputChange.bind(this);\n    this.depositValueChange = this.depositValueChange.bind(this);\n    this.onClickDepositCurrency = this.onClickDepositCurrency.bind(this);\n    this.handleCheck = this.handleCheck.bind(this);\n    this.togglePolicy = this.togglePolicy.bind(this);\n    this.selectCryptoCurrency = this.selectCryptoCurrency.bind(this);\n    this.onClickExchangeCoins = this.onClickExchangeCoins.bind(this);\n  }\n\n  componentDidMount() {\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const url = \"https://api.coinswitch.co/v2/coins\";\n    fetch(proxyurl + url, {\n      method: 'GET',\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json',\n        'x-api-key': 't41E6v16mG6xqOUK74E2F7Py6UVng4K6n1pO3Jig',\n        'x-user-ip': '1.1.1.1'\n      }\n    }).then(response => response.json()).then(data_list => this.setState(prevState => ({\n      cryptoCurrencyList: data_list.data.sort(currency => currency.isActive),\n      depositCoin: data_list.data.sort(currency => currency.isActive)[0],\n      destinationCoin: data_list.data.sort(currency => currency.isActive)[1],\n      dataInProgress: false\n    }))).catch(error => {\n      console.log('error', error);\n      this.setState(prevState => ({\n        dataInProgress: false\n      }));\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.exchangeData && ((this.state.exchangeData.limitMaxDepositCoin || 0) !== (prevState.exchangeData.limitMaxDepositCoin || 0) || (this.state.exchangeData.limitMaxDestinationCoin || 0) !== (prevState.exchangeData.limitMaxDestinationCoin || 0) || this.state.depositValue !== (prevState.depositValue || 0))) {\n      console.log('did update');\n      let tempDestinationValue = 1;\n      let tempDepositValue = this.state.depositValue || 1;\n      let tempRate = this.state.exchangeData.rate || 0;\n      let tempMinerFee = this.state.exchangeData.minerFee || 0;\n      tempDestinationValue = tempDepositValue * tempRate - tempMinerFee || 0;\n      console.log('tempDestinationValue', tempDestinationValue, this.state.depositValue, this.state.exchangeData);\n      this.setState(prevState => ({\n        destinationValue: tempDestinationValue ? tempDestinationValue.toFixed(4) : tempDestinationValue\n      }));\n\n      if (this.state.exchangeData.limitMinDepositCoin > this.state.depositValue) {\n        this.setState(prevState => ({\n          errorMessage: `Minimum amount for conversion is ${this.state.exchangeData.limitMinDepositCoin} ${this.state.depositCoin.symbol}`\n        }));\n      }\n    }\n\n    if (this.state.destinationValue !== (prevState.destinationValue || 0)) {\n      this.setState(prevState => ({\n        exchangeInProgress: false\n      }));\n    }\n\n    if (this.state.depositCoin.symbol !== (prevState.depositCoin.symbol || '') || this.state.destinationCoin.symbol !== (prevState.destinationCoin.symbol || '')) {\n      this.depositValueChange();\n    }\n  } // handling on change for select box in the search area (first name, last name, email)\n\n\n  depositValueChange() {\n    this.setState(prevState => ({\n      exchangeInProgress: true\n    }));\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const url = \"https://api.coinswitch.co/v2/rate\";\n    let temp_data_list = {};\n    var data = JSON.stringify({\n      \"depositCoin\": this.state.depositCoin.symbol,\n      \"destinationCoin\": this.state.destinationCoin.symbol\n    });\n    console.log('data****', data);\n    fetch(proxyurl + url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': 't41E6v16mG6xqOUK74E2F7Py6UVng4K6n1pO3Jig',\n        'x-user-ip': '1.1.1.1'\n      },\n      body: data,\n      json: true\n    }).then(response => response.json()).then(response => {\n      if (response.success !== false) {\n        this.setState(prevState => ({\n          exchangeData: response.data,\n          errorMessage: ''\n        }));\n        console.log('response@@@', response);\n      } else {\n        this.setState(prevState => ({\n          exchangeInProgress: false,\n          errorMessage: `Cannot convert from ${this.state.depositCoin.name} to ${this.state.destinationCoin.name}`\n        }));\n      }\n    }).catch(error => {\n      console.log('error', error);\n    });\n    console.log('temp_data_list', temp_data_list, this.state.exchangeData);\n  }\n\n  onInputChange(name, value) {\n    console.log('name, value', name, value);\n    this.setState(prevState => ({\n      [name]: value\n    }));\n  }\n\n  onClickDepositCurrency() {\n    const showDepositCurrency = !this.state.showDepositCurrency;\n    this.setState(prevState => ({\n      showDepositCurrency,\n      depositSearch: '',\n      destinationSearch: ''\n    }));\n  }\n\n  handleCheck() {\n    const isChecked = !this.state.isChecked;\n    this.setState(prevState => ({\n      isChecked\n    }));\n  }\n\n  togglePolicy() {\n    const isPolicyChecked = !this.state.isPolicyChecked;\n    this.setState(prevState => ({\n      isPolicyChecked\n    }));\n  }\n\n  selectCryptoCurrency(name, value) {\n    this.setState(prevState => ({\n      [name]: value\n    })); // this.depositValueChange();\n  }\n\n  onClickExchangeCoins() {\n    console.log('onClickExchangeCoins');\n    const rotateAngle = this.state.rotateAngle + 180;\n    let tempDepositCoin = this.state.destinationCoin;\n    let tempDestinationCoin = this.state.depositCoin;\n    this.setState(prevState => ({\n      rotateAngle,\n      destinationCoin: tempDestinationCoin,\n      depositCoin: tempDepositCoin\n    }));\n  }\n\n  render() {\n    if (this.state.dataInProgress) {\n      return React.createElement(\"div\", {\n        style: {\n          width: '100%',\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        flexDirection: 'column',\n        overflowY: 'scroll'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"exchange-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, this.state.errorMessage && this.state.errorMessage.length ? React.createElement(\"div\", {\n      className: \"error-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, this.state.errorMessage) : null, React.createElement(\"div\", {\n      className: \"banner-badge\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"Buy Crypto\", React.createElement(\"span\", {\n      className: \"banner-badge-alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \"NEW\")), React.createElement(\"div\", {\n      className: \"toggle-rate-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Market Rate\", React.createElement(\"div\", {\n      className: \"discount-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        margin: '0px 5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(PurpleSwitch, {\n      checked: this.state.isChecked,\n      onChange: this.handleCheck,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"discount-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, \"Fixed Rate\"), React.createElement(\"div\", {\n      className: \"discount-amount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons discount-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"flash_on\"), \"30% Faster\"))), React.createElement(\"div\", {\n      className: \"exchange-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-box-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, \"Send \", this.state.depositCoin.name), React.createElement(InputBox, {\n      name: \"depositValue\",\n      type: \"depositCoin\",\n      logo: this.state.depositCoin.logoUrl,\n      symbol: this.state.depositCoin.symbol,\n      value: this.state.depositValue,\n      cryptoCurrencyList: this.state.cryptoCurrencyList,\n      exchangeInProgress: false,\n      depositValueChange: this.depositValueChange,\n      onInputChange: this.onInputChange,\n      selectCryptoCurrency: this.selectCryptoCurrency,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons exchange-icon\",\n      onClick: this.onClickExchangeCoins,\n      style: {\n        transform: `rotate(-${this.state.rotateAngle}deg)`\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \"sync\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-box-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \"Get \", this.state.destinationCoin.name), React.createElement(InputBox, {\n      name: \"destinationValue\",\n      type: \"destinationCoin\",\n      logo: this.state.destinationCoin.logoUrl,\n      symbol: this.state.destinationCoin.symbol,\n      value: this.state.destinationValue,\n      disabled: true,\n      onInputChange: this.onInputChange,\n      cryptoCurrencyList: this.state.cryptoCurrencyList,\n      exchangeInProgress: this.state.exchangeInProgress,\n      selectCryptoCurrency: this.selectCryptoCurrency,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"currency-address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons scan-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, \"qr_code\"), React.createElement(CustomTextField, {\n      id: \"address\",\n      label: `Enter ${this.state.destinationCoin.name} Address`,\n      style: {\n        width: 335\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"data-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"exchange-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"data-deposit-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-box-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, \"You are Sending\"), React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        maxWidth: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"data-deposit-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, this.state.depositValue), React.createElement(\"div\", {\n      className: \"data-deposit-type\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, this.state.depositCoin.symbol))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons transfer-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, \"arrow_right_alt\")), React.createElement(\"div\", {\n      className: \"data-destination-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-box-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, \"You May Receive\"), React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        maxWidth: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"data-destination-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, this.state.exchangeInProgress ? '...' : this.state.destinationValue), React.createElement(\"div\", {\n      className: \"data-destination-type\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, this.state.destinationCoin.symbol)))), React.createElement(\"div\", {\n      className: \"powered-by\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, \"Powered by \", React.createElement(\"span\", {\n      style: {\n        fontWeight: 'bolder',\n        color: '#fff'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, \"Changenow\"))), React.createElement(\"div\", {\n      className: \"submit-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"terms-policy\",\n      onClick: this.togglePolicy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.isPolicyChecked ? IconSelected : IconUnSelected,\n      className: \"terms-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, \"I agree to the \", React.createElement(\"span\", {\n      style: {\n        fontWeight: 'bolder',\n        color: '#fff'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, \"terms\"), \" & \", React.createElement(\"span\", {\n      style: {\n        fontWeight: 'bolder',\n        color: '#fff'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, \"privacy policy\"))), React.createElement(\"div\", {\n      className: \"submit-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, \"EXCHANGE\")));\n  }\n\n}\n\nexport default Exchange;","map":{"version":3,"sources":["/Users/addepalli/Downloads/Exchange/src/components/Exchange/index.js"],"names":["React","Component","TextField","Switch","withStyles","Loader","InputBox","IconSelected","IconUnSelected","PurpleSwitch","switchBase","color","backgroundColor","checked","track","CustomTextField","root","borderBottomColor","borderColor","Exchange","constructor","props","state","cryptoCurrencyList","dataInProgress","exchangeInProgress","showDepositCurrency","showDestinationCurrency","isPolicyChecked","isChecked","depositValue","destinationValue","rotateAngle","depositSearch","destinationSearch","errorMessage","exchangeData","depositCoin","destinationCoin","onInputChange","bind","depositValueChange","onClickDepositCurrency","handleCheck","togglePolicy","selectCryptoCurrency","onClickExchangeCoins","componentDidMount","proxyurl","url","fetch","method","headers","then","response","json","data_list","setState","prevState","data","sort","currency","isActive","catch","error","console","log","componentDidUpdate","prevProps","limitMaxDepositCoin","limitMaxDestinationCoin","tempDestinationValue","tempDepositValue","tempRate","rate","tempMinerFee","minerFee","toFixed","limitMinDepositCoin","symbol","temp_data_list","JSON","stringify","body","success","name","value","tempDepositCoin","tempDestinationCoin","render","width","height","display","justifyContent","alignItems","flexDirection","overflowY","length","margin","logoUrl","transform","maxWidth","fontWeight"],"mappings":"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","sourcesContent":["// @flow\n\nimport React, { Component } from \"react\";\n\n// import all the necessary components from material ui\nimport TextField from '@material-ui/core/TextField';\nimport Switch from '@material-ui/core/Switch';\nimport { withStyles } from '@material-ui/core/styles';\n\n// import all the necessary subcomponents\nimport Loader from '../Loader';\nimport InputBox from '../InputBox';\n\n// importing the style from the external css file\nimport \"./exchange.css\";\n\n// import all the necessary images\nimport IconSelected from '../../images/tick_selected.png';\nimport IconUnSelected from '../../images/tick.png';\n\n// declaring the type of states and props used\ntype Props = {};\ntype State = {\n  cryptoCurrencyList: Array<Object>,\n\n};\n\nconst PurpleSwitch = withStyles({\n  switchBase: {\n    color: 'default',\n    '&$checked': {\n      color: '#736df8 !important',\n    },\n    '&$checked + $track': {\n      backgroundColor: '#736df8 !important',\n    },\n  },\n  checked: {},\n  track: {},\n})(Switch);\nconst CustomTextField = withStyles({\n  root: {\n    color: '#fff',\n    '& label.Mui-focused': {\n      color: '#fff',\n    },\n    '& label': {\n      color: '#fff',\n    },\n    '& .MuiInput-underline': {\n      borderBottomColor: '#fff !important',\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: '#fff',\n    },\n    '& .MuiInput-underline:before': {\n      borderBottomColor: '#fff',\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: '#fff',\n      },\n      '&:hover fieldset': {\n        borderColor: '#fff',\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: '#fff',\n      },\n    },\n  },\n})(TextField);\n\nclass Exchange extends Component<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cryptoCurrencyList: [],\n      dataInProgress: true,\n      exchangeInProgress: false,\n      showDepositCurrency: false,\n      showDestinationCurrency: false,\n      isPolicyChecked: true,\n      isChecked: false,\n      depositValue: 0,\n      destinationValue: 0,\n      rotateAngle: 0,\n      depositSearch: '',\n      destinationSearch: '',\n      errorMessage: '',\n      exchangeData: {},\n      depositCoin: {},\n      destinationCoin: {},\n    };\n\n    //  binding all the necessary functions to perform state operations\n    (this: any).onInputChange = this.onInputChange.bind(this);\n    (this: any).depositValueChange = this.depositValueChange.bind(this);\n    (this: any).onClickDepositCurrency = this.onClickDepositCurrency.bind(this);\n    (this: any).handleCheck = this.handleCheck.bind(this);\n    (this: any).togglePolicy = this.togglePolicy.bind(this);\n    (this: any).selectCryptoCurrency = this.selectCryptoCurrency.bind(this);\n    (this: any).onClickExchangeCoins = this.onClickExchangeCoins.bind(this);\n  }\n  componentDidMount() {\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const url = \"https://api.coinswitch.co/v2/coins\";\n    fetch(proxyurl + url, {\n        method: 'GET',\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Content-Type': 'application/json',\n          'x-api-key': 't41E6v16mG6xqOUK74E2F7Py6UVng4K6n1pO3Jig',\n          'x-user-ip': '1.1.1.1',\n        },\n        })\n        .then(response => response.json())\n        .then(data_list => this.setState(prevState=>({\n          cryptoCurrencyList: data_list.data.sort(currency=> currency.isActive),\n          depositCoin: data_list.data.sort(currency=> currency.isActive)[0],\n          destinationCoin: data_list.data.sort(currency=> currency.isActive)[1],\n          dataInProgress: false,\n          }))\n        ).catch((error) => {\n          console.log('error', error);\n          this.setState(prevState=>({\n            dataInProgress: false,\n            }))\n        });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if(this.state.exchangeData &&\n      (((this.state.exchangeData.limitMaxDepositCoin || 0) !== (prevState.exchangeData.limitMaxDepositCoin || 0)) ||\n      ((this.state.exchangeData.limitMaxDestinationCoin || 0) !== (prevState.exchangeData.limitMaxDestinationCoin || 0)) ||\n      (this.state.depositValue !== (prevState.depositValue|| 0)))) {\n        console.log('did update');\n          let tempDestinationValue = 1;\n          let tempDepositValue = this.state.depositValue || 1;\n          let tempRate = this.state.exchangeData.rate || 0;\n          let tempMinerFee = this.state.exchangeData.minerFee || 0;\n          tempDestinationValue = ((tempDepositValue * tempRate) - tempMinerFee) || 0;\n          console.log('tempDestinationValue', tempDestinationValue, this.state.depositValue, this.state.exchangeData);\n          this.setState(prevState=>({\n            destinationValue: tempDestinationValue ? tempDestinationValue.toFixed(4) : tempDestinationValue,\n          }));\n          if(this.state.exchangeData.limitMinDepositCoin > this.state.depositValue) {\n            this.setState(prevState=>({\n              errorMessage: `Minimum amount for conversion is ${this.state.exchangeData.limitMinDepositCoin} ${this.state.depositCoin.symbol}`\n            }));\n          }\n      }\n      if(this.state.destinationValue !== (prevState.destinationValue || 0)) {\n        this.setState(prevState=>({\n          exchangeInProgress: false,\n        }));\n      }\n      if(this.state.depositCoin.symbol !== (prevState.depositCoin.symbol || '') || this.state.destinationCoin.symbol !== (prevState.destinationCoin.symbol || '')) {\n        this.depositValueChange()\n      }\n  }\n\n  // handling on change for select box in the search area (first name, last name, email)\n  depositValueChange() {\n    this.setState(prevState=>({\n      exchangeInProgress: true,\n    }));\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    const url = \"https://api.coinswitch.co/v2/rate\";\n    let temp_data_list = {};\n    var data = JSON.stringify({\n      \"depositCoin\": this.state.depositCoin.symbol,\n      \"destinationCoin\": this.state.destinationCoin.symbol,\n    });\n    console.log('data****', data);\n    fetch(proxyurl + url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-api-key': 't41E6v16mG6xqOUK74E2F7Py6UVng4K6n1pO3Jig',\n        'x-user-ip': '1.1.1.1',\n      },\n      body: data,\n      json: true,\n    })\n    .then(response => response.json())\n    .then(response => {\n      if(response.success !== false) {\n        this.setState(prevState=>({\n          exchangeData: response.data,\n          errorMessage: '',\n        }))\n        console.log('response@@@', response)\n      } else {\n        this.setState(prevState=>({\n          exchangeInProgress: false,\n          errorMessage: `Cannot convert from ${this.state.depositCoin.name} to ${this.state.destinationCoin.name}`\n        }))\n      }\n      }).catch((error) => {\n        console.log('error', error);\n      });\n    console.log('temp_data_list', temp_data_list, this.state.exchangeData);\n  }\n  onInputChange(name, value) {\n    console.log('name, value', name, value);\n    this.setState(prevState=>({\n      [name]: value,\n      }));\n  }\n  onClickDepositCurrency() {\n    const showDepositCurrency = !this.state.showDepositCurrency;\n    this.setState(prevState=>({\n      showDepositCurrency,\n      depositSearch: '',\n      destinationSearch: '',\n    }));\n  }\n  handleCheck() {\n    const isChecked = !this.state.isChecked;\n    this.setState(prevState=>({\n      isChecked,\n    }));\n  }\n  togglePolicy() {\n    const isPolicyChecked = !this.state.isPolicyChecked;\n    this.setState(prevState=>({\n      isPolicyChecked,\n    }));\n  }\n  selectCryptoCurrency(name, value) {\n    this.setState(prevState=>({\n      [name]: value,\n    }));\n    // this.depositValueChange();\n  }\n  onClickExchangeCoins() {\n    console.log('onClickExchangeCoins');\n    const rotateAngle = this.state.rotateAngle + 180;\n    let tempDepositCoin = this.state.destinationCoin;\n    let tempDestinationCoin = this.state.depositCoin;\n    this.setState(prevState =>({\n      rotateAngle,\n      destinationCoin: tempDestinationCoin,\n      depositCoin: tempDepositCoin,\n    }))\n  }\n\n  render() {\n    if (this.state.dataInProgress) {\n      return(\n        <div style={{width: '100%', height: '100%'}}>\n          <Loader />\n        </div>\n      );\n    }\n    return (\n      <div style={{width: '100%', height: '100%', display: 'flex', justifyContent: 'flex-start', alignItems: 'center', flexDirection: 'column', overflowY: 'scroll'}}>\n        <div className=\"exchange-container\">\n          {this.state.errorMessage && this.state.errorMessage.length ?\n            <div className=\"error-section\">\n            {this.state.errorMessage}\n            </div> :\n            null\n          }\n          <div className=\"banner-badge\">\n            Buy Crypto\n            <span className=\"banner-badge-alert\">NEW</span>\n          </div>\n          <div className=\"toggle-rate-section\">\n            <div>\n              Market Rate\n              <div className=\"discount-icon\" />\n            </div>\n            <div style={{margin: '0px 5px'}}>\n              <PurpleSwitch checked={this.state.isChecked} onChange={this.handleCheck} />\n              <div className=\"discount-icon\" />\n            </div>\n            <div>\n              <div>Fixed Rate</div>\n              <div className=\"discount-amount\">\n                <i className=\"material-icons discount-icon\">flash_on</i>\n                30% Faster\n              </div>\n            </div>\n          </div>\n          <div className=\"exchange-section\">\n            <div>\n              <div className=\"input-box-label\">Send {this.state.depositCoin.name}</div>\n              <InputBox\n                name=\"depositValue\"\n                type=\"depositCoin\"\n                logo={this.state.depositCoin.logoUrl}\n                symbol={this.state.depositCoin.symbol}\n                value={this.state.depositValue}\n                cryptoCurrencyList={this.state.cryptoCurrencyList}\n                exchangeInProgress={false}\n                depositValueChange={this.depositValueChange}\n                onInputChange={this.onInputChange}\n                selectCryptoCurrency={this.selectCryptoCurrency}\n              />\n            </div>\n            <div>\n              <i className=\"material-icons exchange-icon\" onClick={this.onClickExchangeCoins} style={{transform:`rotate(-${this.state.rotateAngle}deg)`}}>sync</i>\n            </div>\n            <div>\n              <div className=\"input-box-label\">Get {this.state.destinationCoin.name}</div>\n              <InputBox\n                name=\"destinationValue\"\n                type=\"destinationCoin\"\n                logo={this.state.destinationCoin.logoUrl}\n                symbol={this.state.destinationCoin.symbol}\n                value={this.state.destinationValue}\n                disabled={true}\n                onInputChange={this.onInputChange}\n                cryptoCurrencyList={this.state.cryptoCurrencyList}\n                exchangeInProgress={this.state.exchangeInProgress}\n                selectCryptoCurrency={this.selectCryptoCurrency}\n              />\n            </div>\n          </div>\n          <div className=\"currency-address\">\n            <i className=\"material-icons scan-icon\">qr_code</i>\n            <CustomTextField id=\"address\" label={`Enter ${this.state.destinationCoin.name} Address`} style={{width: 335}} />\n          </div>\n        </div>\n        <div className=\"data-container\">\n          <div className=\"exchange-section\">\n            <div className=\"data-deposit-section\">\n              <div className=\"input-box-label\">You are Sending</div>\n              <div style={{display: 'flex', maxWidth: '100%'}}>\n                <div className=\"data-deposit-value\">\n                  {this.state.depositValue}\n                </div>\n                <div className=\"data-deposit-type\">\n                  {this.state.depositCoin.symbol}\n                </div>\n              </div>\n            </div>\n            <div>\n              <i className=\"material-icons transfer-icon\">arrow_right_alt</i>\n            </div>\n            <div className=\"data-destination-section\">\n              <div className=\"input-box-label\">You May Receive</div>\n              <div style={{display: 'flex', maxWidth: '100%'}}>\n                <div className=\"data-destination-value\">\n                  {this.state.exchangeInProgress ?\n                    '...' :\n                    this.state.destinationValue}\n                </div>\n                <div className=\"data-destination-type\">\n                  {this.state.destinationCoin.symbol}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"powered-by\">\n            Powered by <span style={{fontWeight: 'bolder', color: '#fff'}}>Changenow</span>\n          </div>\n        </div>\n        <div className=\"submit-section\">\n          <div className=\"terms-policy\" onClick={this.togglePolicy}>\n            <img src={this.state.isPolicyChecked ? IconSelected : IconUnSelected} className=\"terms-icon\" />\n            <div>\n              I agree to the <span style={{fontWeight: 'bolder', color: '#fff'}}>terms</span> & <span style={{fontWeight: 'bolder', color: '#fff'}}>privacy policy</span>\n            </div>\n          </div>\n          <div className=\"submit-button\">\n            EXCHANGE\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Exchange;\n"]},"metadata":{},"sourceType":"module"}